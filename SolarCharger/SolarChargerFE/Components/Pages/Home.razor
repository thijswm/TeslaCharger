@page "/"
@inherits MudComponentBase
<PageTitle>Main</PageTitle>
@if (_loading)
{
    <MudSkeleton />
}
else if (!string.IsNullOrEmpty(_loadError))
{
    <MudAlert Severity="Severity.Error">@_loadError</MudAlert>
}
else
{
    <MudGrid>
        <MudItem xs="4">
            <MudText Typo="Typo.h6">Current State: @_currentState</MudText>
        </MudItem>
        <MudItem xs="12">
            @if (_currentState == EState.Idle)
            {
                <MudButton Color="@Color.Primary"  Variant="Variant.Filled" OnClick="StartChargingAsync">Start Charge Session</MudButton>
            }
            else
            {
                <MudButton Color="@Color.Primary" Variant="Variant.Filled" OnClick="StopChargingAsync">Stop Charge Session</MudButton>
            }
        </MudItem>
    </MudGrid>
}
